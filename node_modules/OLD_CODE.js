function DCparsing(start,end){

    var str = ""
    var number = ""
    var time = ""
    var id = ""
    var title = ""
    var word = ""
    var ip = ""
    var str_out = ""
    for(var i=start ; i<end+1 ; i++){
        try{ // try
            str = webRead("http://m.dcinside.com/view.php?id=pu&no="+i,"User-Agent","Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19")
            number = i
            time = str.split("<input type=\"hidden\" name=\"date_time\" id=\"date_time\" value=\"")[1].split("\"/>")[0]
            id = str.split("<!-- 갤본문 -->")[1].split("<div class=\"view_head\">")[1].split("<span>")[2].split("</span>")[0]
            title = str.split("<span class=\"tit_view\">")[1].split("<span class")[0].split("<img ")[0]
            word = str.split("<div class=\"view_main\">")[1].split("</div>")[0].replace(/<br[^\/]+\/>/g,"\n").replace(/^[\n\s]+/g,"").replace(/<[^>]+>/g,"").rmspace()
            ip = str.split("<span class=\"ip\">")[1].split("</span>")[0]
            str_out = number+"||"+time+"||"+id+"||"+title+"||"+word+"||"+ip+"\n"
            setDB("DB_PU"+i,str_out)
        } // try
        catch(e){
        }
    }
}



/*
function parsing(){ // DCinside 공립대학교 갤러리 파싱코드

	var str = webRead("http://m.dcinside.com/list.php?id=pu&no="+getDB("DCP_max")+"&page=1","mobile")



	var strTitle = str.split("이미지</span>")
	var strTitleResult=[];
	for(var i=1 ; i<strTitle.length ; i++){
		strTitleResult[i-1]=strTitle[i].split("</span>")[0].split("\n")[0]
		setDB( "DCinside_pu_title_"+(i-1), strTitleResult[i-1] )
	}

	var strName = str.split("<ul class=\"ginfo\">") // 이름데이터
	var strNameResult=[];
	for(var j=1 ; j<strName.length-2 ; j++){
		strNameResult[j-1]=strName[j+2].split("<li>")[1].split("</li>")[0].replace("<span class='sp-nick gonick'></span>","")
		setDB( "DCinside_pu_name_"+(j-1), strNameResult[j-1] )
	}

	var strPage = str.split("<div class=\"gall-detail-lnktb\">") // 페이지주소데이터
	var strPageResult=[];
	for(var j=1 ; j<strPage.length ; j++){
		strPageResult[j-1]=strPage[j].split("<a href=\"http://m.dcinside.com/board/pu/")[1].split("\" class=\"lt\">")[0]
		setDB( "DCinside_pu_page_"+(j-1), strPageResult[j-1] )
	}
	var strNumberResult = strPageResult[0].split("pu&no=")[1].split("&page=")[0]
	if( strNumberResult > getDB("DCinside_pu_number") || getDB("DCinside_pu_number")==undefined  ){ // 글이 삭제되어 글번호가 낮아졌을 경우에는 기록하지않음
		setDB("DCinside_pu_number",strNumberResult) // 맨 마지막글의 글번호
	}

}
*/

function DCP(){ // DC 파싱

    var i = 0;

    str = org.jsoup.Jsoup.connect("http://m.dcinside.com/board/pu").userAgent("Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19").get().select("ul.gall-detail-lst div.gall-detail-lnktb").toArray().map(v=>[v.select("a").first().attr("href"), v.select("span.detail-txt").text(), v.select("li").first().text()])
    if( Number(str[0][0].split("http://m.dcinside.com/board/pu/")[1]) <= getNum("DCP_max") ){ // 새로운 글이 없을 경우
        return 0;
    }
    else{
        while( Number(str[i][0].split("http://m.dcinside.com/board/pu/")[1]) > getNum("DCP_max") ){
            i++
        }
        setDB("DCP_max",str[0][0].split("http://m.dcinside.com/board/pu/")[1])
    }

    if(i==1){
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[0][1]+"\n작성자 : "+str[0][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[0][0] )
    }
    else if(i==2){
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[0][1]+"\n작성자 : "+str[0][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[0][0] )
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[1][1]+"\n작성자 : "+str[1][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[1][0] )
    }
    else if(i==3){
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[0][1]+"\n작성자 : "+str[0][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[0][0] )
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[1][1]+"\n작성자 : "+str[1][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[1][0] )
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 올라왔습니다.\n제목 : "+str[2][1]+"\n작성자 : "+str[2][2])
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + str[2][0] )
    }
    else if(i>3){
        Api.replyRoom("시갤톡방","공립대학교 갤러리에 새로운 글이 "+i+"개 올라왔습니다.")
        Api.replyRoom("시갤톡방",randReply("비추박으러 가기 : ","개추박으러 가기 : ","댓글달러 가기 : ","보러 가기 : ") + "http://m.dcinside.com/board/pu/" )
    }
}

/*
function parsingUOS1(){ // 일반공지 파싱코드 (정규식만 이용)
	var url = "http://www.uos.ac.kr/korNotice/list.do?list_id=FA1" // url객체
	var conn = new java.net.URL(url).openConnection(); // URL을 통해 인터넷과 연결
	conn.setRequestProperty("Content-Type", "text/xml;charset=utf-8"); // 요청&응답 방식
	conn.setRequestProperty("User-Agent","Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19");

	var is = conn.getInputStream();
	var br = new java.io.BufferedReader(new java.io.InputStreamReader(is));
	var str = "";
	var tmp = null;


	while ((tmp = br.readLine()) != null) { // 읽어올 값이 없을때까지 출력
		str += tmp + "\n";
	}

	var reg = /class="mhide">([^<]+)<\/span>([^<]+)<\/a>/g //파싱 정규식 [1]글번호, [2]글제목
	var reg2 = /class="mhide">([^<]+)<\/span>([^<]+)<\/a>/g //파싱 정규식 [1]글번호, [2]글제목
	setDB("lastNumberUOS1",reg2.exec(str)[1]) // 일반공지 마지막 글번호 저장
	for(var i=0 ; i<10 ; i++){
		setDB("DBUOS1_"+i,reg.exec(str)[2]) // DB에 글제목 저장
	}
	 확인코드
	for(var i=0 ; i<10 ; i++){
		getDB("DBUOS1_"+i) // DB에 글제목 저장
	}

}
*/

/*
function parsingUOS1(){
	var str = webRead("http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq="+getDB("UOS1max")+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10")
	var title = str.split("<title>")[1].split("</title>")[0].split(" &lt;")[0]
	if(title == "" || title == "MIWIFI" || title == "서울시립대학교" || title == "undefined" || title == undefined){
		return 0
	}
	else{
		setDB("titleUOS1"+getNum("UOS1max"),title)
		setDB("UOS1max",getNum("UOS1max")+1)
		return 1
	}
}

function UOSP1(){
	var str = ""
	var str2 = ""
	if(parsingUOS1()==1&& getDB("titleUOS1"+(getNum("UOS1max")-1))!=getDB("titleUOS1"+(getNum("UOS1max")-2)) ){
		str += "일반 공지가 새로 게시되었습니다\n"
		str += getDB("titleUOS1"+(getNum("UOS1max")-1))
		str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq="+(getDB("UOS1max")-1)+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
		Api.replyRoom("봇장난",str)
		Api.replyRoom("봇장난",str2)
		Api.replyRoom("공지확인방",str)
		Api.replyRoom("공지확인방",str2)
		setTimeout(Api.replyRoom,["공지확인방2",str],300000)
		setTimeout(Api.replyRoom,["공지확인방2",str2],300000)
	}
	else if(parsingUOS1()==1&& getDB("titleUOS"+(getNum("UOS1max")-1))==getDB("titleUOS"+(getNum("UOS1max")-2)) ){
	}
}
*/



function UOSP1() { // 일반공지코드 신형 (2019_09_25)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된W 제목 명
    //var number = ""// 글번호
    var temp = 0; // 필독공지가 아닌 최초시점 공지 번호 기록
    var parse = "";
    var adress = ""; // 주소번호
    //var parse = String(org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get())
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    //split 코드를 퇴출시킵시다. (전국 split 퇴출본부 전스퇴)
    //title = parse.split('<!-- 일반 -->')[1].split('<span class="mhide">')[1].split('</span>')[1].split('</a>')[0] // 새로 파싱한 제목
    parse = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA1").get().select("ul.listType>li:not(.on)>a").get(0)
    title = parse.ownText()
    adress = parse.attr("onclick").split("'")[3]
    //number = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA1").get().select("ul.listType>li:not(.on)>a>span").get(0).text()


    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_UOSP1_" + (getNum("UOSP1_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_UOSP1_" + getDB("UOSP1_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("UOSP1_last", getNum("UOSP1_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    if (SW_new == 1) {
        str += "일반 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq=" + adress + "&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)

        sendKalingImage(UOS_SG_name,
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq=" + adress + "&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)

        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq=" + adress + "&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq=" + adress + "&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)
            */
        //sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }
}

function UOSP1_list(r) {
    var str = ""
    var str2 = ""
    str += org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA1").get().select("ul.listType>li:not(.on)").toArray().map((v,i)=>(i+1)+". "+v.selectFirst("a").ownText()).join("\n")
    str2 += "보러가기 : http://www.uos.ac.kr/korNotice/list.do?list_id=FA1"
    r.reply(str)
    r.reply(str2)
}


/*
function UOSP1(){ // 구형코드
	var str = ""
	var str2 = ""

	var i=0;

	var check = 0; //새로 파싱된 내용이 있으면 check = 1

	var title = []
	var number_Adress = []
	var number_Title = []
	var temp = String(org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA1").get()).split(' <!-- 일반 --> ')[1]

	while(i<10){
		title[i] = temp.split("</span>")[i+1].split("</a>")[0]
		number_Adress[i] = temp.split("fnView")[i+1].split(", '")[1].split("');")[0]
		number_Title[i] = temp.split("<span class=\"mhide\">")[i+1].split("</span>")[0]

		if( number_Title[i] == getNum("UOS1_max")-1 ){
			setDB("UOS1_max",getNum("UOS1_max")+1)
			setDB("title_UOS1_"+getDB("UOS1_max"),title[i])
			setDB("Adress_UOS1_"+getDB("UOS1_max"),number_Adress[i])
			i=10;
			check = 1;
		}
		i++;
	}

	if(check==1){ //새로 파싱된 내용이 있을 경우
		str += "일반 공지가 새로 게시되었습니다\n"
		str += getDB("title_UOS1_"+getDB("UOS1_max"))
		str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA1&seq="+getDB("Adress_UOS1_"+getDB("UOS1_max"))+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
		if(str.includes("페미")) {
			Api.replyRoom("봇장난","페미공지 필터링 완료\n"+str2);
			return;
		}
		Api.replyRoom("봇장난",str)
		Api.replyRoom("봇장난",str2)
		Api.replyRoom("공지확인방",str)
		Api.replyRoom("공지확인방",str2)
		Api.replyRoom("시갤톡방",str)
		Api.replyRoom("시갤톡방",str2)
		Api.replyRoom("시립대공지확인방",str)
		Api.replyRoom("시립대공지확인방",str2)
	}
}
*/

function UOSP3() { // 학사공지코드 신형 (2019_09_25)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된W 제목 명
    //var number = ""// 글번호
    var temp = 0; // 필독공지가 아닌 최초시점 공지 번호 기록
    var parse = "";
    var adress = ""; // 주소번호
    //var parse = String(org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get())
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    //split 코드를 퇴출시킵시다. (전국 split 퇴출본부 전스퇴)
    //title = parse.split('<!-- 일반 -->')[1].split('<span class="mhide">')[1].split('</span>')[1].split('</a>')[0] // 새로 파싱한 제목
    parse = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA2&seq=0&sort=&pageIndex=1&searchCnd=&searchWrd=&cate_id=&viewAuth=Y&writeAuth=N&board_list_num=10&lpageCount=10").get().select("ul.listType>li:not(.on)>a").get(0)
    title = parse.ownText()
    adress = parse.attr("onclick").split("'")[3]
    //number = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA1").get().select("ul.listType>li:not(.on)>a>span").get(0).text()


    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_UOSP3_" + (getNum("UOSP3_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_UOSP3_" + getDB("UOSP3_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("UOSP3_last", getNum("UOSP3_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    if (SW_new == 1) {
        str += "학사 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+adress+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */


        sendKalingImage(UOS_SG_name,
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+adress+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)

        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+adress+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+adress+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
            ,str,"보러가기",0,0)
            */

        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)

    }
}

function UOSP3_list(r) {
    var str = ""
    var str2 = ""
    str += org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA2&seq=0&sort=&pageIndex=1&searchCnd=&searchWrd=&cate_id=&viewAuth=Y&writeAuth=N&board_list_num=10&lpageCount=10").get().select("ul.listType>li:not(.on)").toArray().map((v,i)=>(i+1)+". "+v.selectFirst("a").ownText()).join("\n")
    str2 += "보러가기 : http://www.uos.ac.kr/korNotice/list.do?list_id=FA2&seq=0&sort=&pageIndex=1&searchCnd=&searchWrd=&cate_id=&viewAuth=Y&writeAuth=N&board_list_num=10&lpageCount=10"
    r.reply(str)
    r.reply(str2)
}

/*
function UOSP3(){ // 학사공지 (구형코드)
	var str = ""
	var str2 = ""

	var i=0;

	var check = 0; //새로 파싱된 내용이 있으면 check = 1

	var title = []
	var number_Adress = []
	var number_Title = []
	var temp = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/korNotice/list.do?list_id=FA2&seq=0&sort=&pageIndex=1&searchCnd=&searchWrd=&cate_id=&viewAuth=Y&writeAuth=N&board_list_num=10&lpageCount=10").get().select("ul.listType>li:not(.on)")
	var temp2 = []

	while(i<10){
		temp2[i] = temp.get(i)
		title[i] = temp2[i].select("a").first().ownText()
		number_Adress[i] = String(temp2[i].selectFirst("a").attr("onclick")).split("', '")[1].split("');")[0]
		number_Title[i] = temp2[i].select("span").text()

		if( number_Title[i] == getNum("UOS3_max")-1 ){
			setDB("UOS3_max",getNum("UOS3_max")+1)
			setDB("title_UOS3_"+getDB("UOS3_max"),title[i])
			setDB("Adress_UOS3_"+getDB("UOS3_max"),number_Adress[i])
			i=10;
			check = 1;
		}
		i++;
	}

	if(check==1){ //새로 파싱된 내용이 있을 경우
		str += "학사 공지가 새로 게시되었습니다\n"
		str += getDB("title_UOS3_"+getDB("UOS3_max"))
		str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+getDB("Adress_UOS3_"+getDB("UOS3_max"))+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
		Api.replyRoom("봇장난",str)
		Api.replyRoom("봇장난",str2)
		Api.replyRoom("공지확인방",str)
		Api.replyRoom("공지확인방",str2)
		Api.replyRoom("시갤톡방",str)
		Api.replyRoom("시갤톡방",str2)
		Api.replyRoom("시립대공지확인방",str)
		Api.replyRoom("시립대공지확인방",str2)
	}
}
*/


/*
function parsingUOS3(){
	var str = webRead("http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+getDB("UOS3max")+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10")
	var title = str.split("<title>")[1].split("</title>")[0].split(" &lt;")[0]
	if(title == "" || title == "MIWIFI" || title == undefined){
		return 0
	}
	else{
		setDB("titleUOS3"+getNum("UOS3max"),title)
		setDB("UOS3max",getNum("UOS3max")+1)
		return 1
	}
}

function UOSP3(){
	var str = ""
	var str2 = ""
	if(parsingUOS3()==1&& getDB("titleUOS3"+(getNum("UOS3max")-1))!=getDB("titleUOS3"+(getNum("UOS3max")-2)) ){
		str += "학사 공지가 새로 게시되었습니다\n"
		str += getDB("titleUOS3"+(getNum("UOS3max")-1))
		str2 += "보러가기 : http://www.uos.ac.kr/korNotice/view.do?list_id=FA2&seq="+(getDB("UOS3max")-1)+"&sort=0&pageIndex=1&searchCnd=&searchWrd=&viewAuth=Y&writeAuth=N&lpageCount=10"
		Api.replyRoom("봇장난",str)
		Api.replyRoom("봇장난",str2)
		Api.replyRoom("공지확인방",str)
		Api.replyRoom("공지확인방",str2)
		setTimeout(Api.replyRoom,["공지확인방2",str],300000)
		setTimeout(Api.replyRoom,["공지확인방2",str2],300000)
		Api.replyRoom("시갤톡방",str)
		Api.replyRoom("시갤톡방",str2)
	}
	else if(parsingUOS3()==1&& getDB("titleUOS"+(getNum("UOS3max")-1))!=getDB("titleUOS"+(getNum("UOS3max")-2)) ){
	}
}
*/

function UOSP4(){ // 장학공지
    var str = ""
    var str2 = ""
    var title = String(org.jsoup.Jsoup.connect("http://scholarship.uos.ac.kr/scholarship/notice/notice/list.do?brdBbsseq=1").get().select('.boardview.notice_title')).split('class="boardview notice_title"> ')[1].split(' </a>')[0]
    if(title == "" || title == "MIWIFI" || title == undefined || title == getDB("titleUOS4_"+getNum("UOS4max")) ){
        return 0
    }
    else{
        setDB("titleUOS4_"+(getNum("UOS4max")+1),title)
        setDB("UOS4max",getNum("UOS4max")+1)
        str += "장학 공지가 새로 게시되었습니다\n"
        str += getDB("titleUOS4_"+(getNum("UOS4max")))
        str2 += "보러가기 : http://scholarship.uos.ac.kr/scholarship/notice/notice/list.do?brdBbsseq=1"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */


        sendKalingImage(UOS_SG_name,
            "",
            "http://scholarship.uos.ac.kr/scholarship/notice/notice/list.do?brdBbsseq=1"
            ,str,"보러가기",0,0)

        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "http://scholarship.uos.ac.kr/scholarship/notice/notice/list.do?brdBbsseq=1"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "http://scholarship.uos.ac.kr/scholarship/notice/notice/list.do?brdBbsseq=1"
            ,str,"보러가기",0,0)
            */

        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }
}

function UOSP5() { // 취창업공지 (2019_09_25)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된 제목 명
    var temp = 0; // 필독공지가 아닌 최초시점 공지 번호 기록
    var parse = String(org.jsoup.Jsoup.connect("https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV").get())
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    title = parse.split('<div class="txt"> ')[1].split('"> ')[1].split('</a> ')[0] // 새로 파싱한 제목

    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_UOSP5_" + (getNum("UOSP5_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_UOSP5_" + getDB("UOSP5_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("UOSP5_last", getNum("UOSP5_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    if(new Date().getHours()>=9 && new Date().getHours()<=21){ // 새벽시간대 공지 안뜨게 하는 기능
        var timechecker = 1 // 공지 허용
    }
    else{
        var timechecker = 0 // 공지 비허용
    }

    if(SW_new == 1&&timechecker==0){ // 공지가 심야에 올라왔을 경우
        setDB("title_CECE_temp",title)
        setDB("res_CECE","1")
        Api.replyRoom("봇장난", "심야공지 비활성화 작동")
        Api.replyRoom("봇장난","취업창업공지 : "+title)
    }

    if(getDB("res_CECE")==1&&timechecker==1){ // 이전에 밀린 공지가 있었을 경우 아침에 공지
        str += "취업창업 공지가 새로 게시되었습니다\n"
        str += getDB("title_CECE_temp")
        str2 += "보러가기 : https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */


        sendKalingImage(UOS_SG_name,
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)

        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)
            */

        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
        setDB("res_CECE","0") // 초기화
        Api.replyRoom("봇장난", "심야공지 방송 완료")
        Api.replyRoom("봇장난","취업창업공지 : "+title)
    }

    if (SW_new == 1&&timechecker==1) {
        str += "취업창업 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */

        sendKalingImage(UOS_SG_name,
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)
        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "https://www.uos.ac.kr/korColumn/list.do?list_id=FA35&epTicket=INV"
            ,str,"보러가기",0,0)
            */


        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }
}


//==================== 학과공지 파싱 ================================================================================================================================


function UOSP2() { // 전전컴공지(new) (2019_09_25)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된 제목 명
    var parse = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a").get()
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    var a = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a").get().select("div.tb-body")
    var b = a.toArray().filter(v=>v.select("li.tb-wid01").text()!="[공지]")
    title = b[0].select("li.tb-wid02").text()


    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_ECE_" + (getNum("ECE_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_ECE_" + getDB("ECE_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("ECE_last", getNum("ECE_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    var nyam = 0

    if(new Date().getHours()>=9 && new Date().getHours()<=21){ // 새벽시간대 공지 안뜨게 하는 기능
        var timechecker = 1 // 공지 허용
    }
    else{
        var timechecker = 0 // 공지 비허용
    }

    if(SW_new == 1&&timechecker==0){ // 공지가 심야에 올라왔을 경우
        setDB("title_ECE_temp",title)
        setDB("res_ECE","1")
        Api.replyRoom("봇장난", "심야공지 비활성화 작동")
        Api.replyRoom("봇장난","전전컴공지 : "+title)
    }



    if(getDB("res_ECE")==1&&timechecker==1){ // 이전에 밀린 공지가 있었을 경우 아침에 공지
        str += "전전컴 공지가 새로 게시되었습니다\n"
        str += getDB("title_ECE_temp")
        str2 += "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */


        sendKalingImage(UOS_SG_name,
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)

        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)
            */

        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
        setDB("res_ECE","0") // 초기화
        Api.replyRoom("봇장난", "심야공지 방송 완료")
        Api.replyRoom("봇장난","전전컴공지 : "+title)
    }

    if (SW_new == 1&&timechecker==1) { // 일반적인 시간대에 공지가 올라왔을 경우
        str += "전전컴 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        /*
        sendKalingImage("시갤톡방","","sirip.kr",str,"",0,0)
        sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        */

        sendKalingImage(UOS_SG_name,
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)
        //sendKalingImage("시갤톡방","","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)
        //sendKalingImage("시립대공지확인방","","sirip.kr",str2,"",0,0)
        /*
        sendKalingImage("시립대공지확인방2",
            "",
            "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
            ,str,"보러가기",0,0)
            */

        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }
}

function UOSP2_list(r) {
    var str = ""
    var str2 = ""
    var a = org.jsoup.Jsoup.connect("http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a").get().select("div.tb-body")
    var b = a.toArray().filter(v=>v.select("li.tb-wid01").text()!="[공지]")
    str +=  b.map((v,i)=>(i+1)+". "+v.select("li.tb-wid02").text()).slice(0,10).join("\n")
    str2 += "보러가기 : http://www.uos.ac.kr/engineering/korNotice/allList.do?list_id=20013DA1&cate_id2=000010058#a"
    r.reply(str)
    r.reply(str2)
}

function UOSPKY() { // 경영학과공지 (2019_09_25)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된 제목 명
    //var number = ""// 글번호
    var temp = 0; // 필독공지가 아닌 최초시점 공지 번호 기록
    //var parse = String(org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get())
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    //split 코드를 퇴출시킵시다. (전국 split 퇴출본부 전스퇴)
    //title = parse.split('<!-- 일반 -->')[1].split('<span class="mhide">')[1].split('</span>')[1].split('</a>')[0] // 새로 파싱한 제목
    title = org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get().select("ul.listType>li:not(.on)>a").get(0).ownText()
    //number = org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get().select("ul.listType>li:not(.on)>a>span").get(0).text()

    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_KY_" + (getNum("KY_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_KY_" + getDB("KY_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("KY_last", getNum("KY_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    if (SW_new == 1) {
        str += "경영학부 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        sendKalingImage(UOS_SG_name,"","sirip.kr",str,"",0,0)
        sendKalingImage(UOS_SG_name,"","sirip.kr",str2,"",0,0)
        sendKalingImage(UOS_notiece_name1,"","sirip.kr",str,"",0,0)
        sendKalingImage(UOS_notiece_name1,"","sirip.kr",str2,"",0,0)
        //sendKalingImage("시립대공지확인방2","","sirip.kr",str,"",0,0)
        //sendKalingImage("시립대공지확인방2","","sirip.kr",str2,"",0,0)
        //Api.replyRoom("시갤톡방", str)
        //Api.replyRoom("시갤톡방", str2)
        //Api.replyRoom("공지확인방", str)
        //Api.replyRoom("공지확인방", str2)
        //Api.replyRoom("시립대공지확인방", str)
        //Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }

}

function UOSPKY_list(r) {
    var str = ""
    var str2 = ""
    str += org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get().select("ul.listType>li:not(.on)").toArray().map((v,i)=>(i+1)+". "+v.selectFirst("a").ownText()).join("\n")
    str2 += "보러가기 : http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2"
    r.reply(str)
    r.reply(str2)
}




function corona1(){
    var str = ""

    var temp = org.jsoup.Jsoup.connect("http://ncov.mohw.go.kr/bdBoardList_Real.do?brdId=&brdGubun=&ncvContSeq=&contSeq=&board_id=&gubun=").get().select("table.num").select("tr").select("td")

    var number1 = temp.get(0).ownText() // 확진자수
    var number2 = temp.get(1).ownText() // 확진자 격리해제
    var number3 = temp.get(2).ownText() // 격리중
    var number4 = temp.get(3).ownText() // 사망

    str += "확진자 : "+number1+"\n";
    str += "사망자 : "+number4+"\n";
    str += "격리중 : "+number3+"\n";
    str += "격리해제 : "+number2+"\n";

    str += org.jsoup.Jsoup.connect("http://ncov.mohw.go.kr/bdBoardList_Real.do?brdId=&brdGubun=&ncvContSeq=&contSeq=&board_id=&gubun=").get().select(".s_descript").get(0).ownText().replace("&nbsp;"," ").replace("코로나바이러스감염증-19 국내 발생 현황","")

    return str;

}

function corona2(){
    var a = org.jsoup.Jsoup.connect("http://ncov.mohw.go.kr/bdBoardList_Real.do?brdId=1&brdGubun=14&ncvContSeq=&contSeq=&board_id=&gubun=").get().select(".num").get(3).select("tbody").select("tr").toArray().filter(v=>v.select("td").size()==2).map(v=>({
        region:String(v.select("td").get(0).text()),
        data:String(v.select("td").get(1).text()),
        num:Number(/([\d,]+)명/.exec(String(v.select("td").get(1).text()))[1].replace(/,/g,""))

    }))

    var str = a.sort((x,y)=>y.num-x.num).map(v=>v.region +" : "+v.data).join("\n")

    return str;

}



function UOSP_corona() { // 코로나 공지 (2020_03_05)
    var str = ""
    var str2 = ""
    var title = "" // 새로 파싱된 제목 명
    //var number = ""// 글번호
    var temp = 0; // 필독공지가 아닌 최초시점 공지 번호 기록
    //var parse = String(org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get())
    var SW_new = 0; // 새로운 공지가 파싱되었을 경우 1이됨

    //split 코드를 퇴출시킵시다. (전국 split 퇴출본부 전스퇴)
    //title = parse.split('<!-- 일반 -->')[1].split('<span class="mhide">')[1].split('</span>')[1].split('</a>')[0] // 새로 파싱한 제목
    parse = org.jsoup.Jsoup.connect("https://www.uos.ac.kr/korNotice/list.do?list_id=corona19&epTicket=ST-505552-HHXaokSuh2rOMXMvfUecLRQYfmA3dtwJ7oj-21").get().select("ul.listType>li:not(.on)>a").get(0)
    title = parse.ownText()
    adress = parse.attr("onclick").split("'")[3]
    //title = org.jsoup.Jsoup.connect("https://www.uos.ac.kr/korNotice/list.do?list_id=corona19&epTicket=ST-505552-HHXaokSuh2rOMXMvfUecLRQYfmA3dtwJ7oj-21").get().select("ul.listType>li:not(.on)>a").get(0).ownText()
    //number = org.jsoup.Jsoup.connect("http://biz.uos.ac.kr/korNotice/list.do?list_id=20008N2").get().select("ul.listType>li:not(.on)>a>span").get(0).text()

    if (title == "" || title == "MIWIFI" || title == undefined) { // 오류일시 종료
        return 0;
    }
    // ECE_last가 371번일 때 새로운 내용이 파싱되면 371번에 기록된다.
    if (getDB("title_corona_" + (getNum("corona_last") - 1)) != title) { // 새로운 내용이 파싱되었을 경우
        setDB("title_corona_" + getDB("corona_last"), title) // 새로 파싱된 내용 DB에 기록
        setDB("corona_last", getNum("corona_last") + 1) // 다음 파싱을 위해 카운트 +1
        SW_new = 1
    }

    if (SW_new == 1) {
        str += "코로나19 공지가 새로 게시되었습니다\n"
        str += title
        str2 += "보러가기 : " + "https://www.uos.ac.kr/korNotice/view.do?list_id=corona19&seq="+adress+"&sort=2&pageIndex=1&searchCnd=&searchWrd=&cate_id=&viewAuth=Y&writeAuth=Y&board_list_num=10&lpageCount=10&epTicket=ST-505588-00IHJls6293UMfzCtbloZyqBBONux9dIKhg-21"
        //Api.replyRoom("봇장난", str)
        //Api.replyRoom("봇장난", str2)
        Api.replyRoom("시갤톡방", str)
        Api.replyRoom("시갤톡방", str2)
        Api.replyRoom("공지확인방", str)
        Api.replyRoom("공지확인방", str2)
        Api.replyRoom("시립대공지확인방", str)
        Api.replyRoom("시립대공지확인방", str2)
        //Api.replyRoom("시립대공지확인방2", str)
        //Api.replyRoom("시립대공지확인방2", str2)
    }

}

function UOSPcorona_list(r) {
    var str = ""
    var str2 = ""
    str += org.jsoup.Jsoup.connect("https://www.uos.ac.kr/korNotice/list.do?list_id=corona19&epTicket=ST-505552-HHXaokSuh2rOMXMvfUecLRQYfmA3dtwJ7oj-21").get().select("ul.listType>li:not(.on)").toArray().map((v,i)=>(i+1)+". "+v.selectFirst("a").ownText()).join("\n")
    str2 += "보러가기 : https://www.uos.ac.kr/korNotice/list.do?list_id=corona19&epTicket=ST-505552-HHXaokSuh2rOMXMvfUecLRQYfmA3dtwJ7oj-21"
    r.reply(str)
    r.reply(str2)
}






function parsingSG_text(number){ // 해당 글번호에 해당하는 글 파싱
    var str = webRead("http://m.dcinside.com/view.php?id=exam_new&no="+number+"&page=1&serVal=자이하르&s_type=name&ser_pos=","mobile")
    var write = str.split("<table style=\"table-layout: fixed; width: 100%\"><tbody><tr><td>")[1].split("</td></tr></tbody></table>")[0]
    write = write.replace(/<br[^\/]+\/>/g,"\n") // 글 내용
    write = write.replace(/^[\n\s]+/g,"")
    var time = str.split("<span class=\"nick_comm flow\"></span>")[1].split("<span>")[1].split("</span>")[0] // 시간
    var title = str.split("<span class=\"tit_view\">")[1].split("<span class=\"img_comm ico_mobile\"></span>")[0] // 제목

    var strF = number + "||" + time + "||" + title + "||" + write

    setZDB ( "ZYHR"+getZDB("ZCount") , strF )
    setZDB ( "ZCount" , getZNum("ZCount")+1 )

}

function parsingSG(){ //
    var str = webRead("http://m.dcinside.com/list.php?serVal=자이하르&id=exam_new&s_type=name","mobile")
    var i=16
    var Num = str.split("<a href=\"http://m.dcinside.com/view.php?id=exam_new&no=")[i].split("&page=1&serVal=자이하르&s_type=name&ser_pos=\">")[0]

    while(1){
        if( Num <= getZNum("maxNumber") ){ // 넘기기
            i--
            Num = str.split("<a href=\"http://m.dcinside.com/view.php?id=exam_new&no=")[i].split("&page=1&serVal=자이하르&s_type=name&ser_pos=\">")[0]

        }
        else if( Num > getZNum("maxNumber") ){ // 새글이 등록된 경우
            parsingSG_text(Num)
            setZDB("maxNumber",Num)
            i--
            Num = str.split("<a href=\"http://m.dcinside.com/view.php?id=exam_new&no=")[i].split("&page=1&serVal=자이하르&s_type=name&ser_pos=\">")[0]

        }
        else if (i==1){
            break
        }
    }

}

function searchZYHR(number){
    var i = 0
    var temp = ""
    var str = ""
    while(i<getZNum("ZCount")+1){
        temp = getZDB("ZYHR"+i)
        if(temp.split("||")[0]==number){
            Api.replyRoom("봇장난",temp.split("||")[3].replaceAmp())
            break
        }
        i++
    }
}



function haksik(hdate){

    var parse = String(org.jsoup.Jsoup.connect("http://www.uos.ac.kr/food/placeList.do?search_date="+hdate).get())

    var str = ""
    str += "---점심---\n"
    //str += webRead("http://www.uos.ac.kr/food/placeList.do?search_date="+hdate).split("<td class=\"al\">")[2].split("<br/>")[0].replace(/<br>/g,"\n")
    str += parse.split("<td class=\"al\">")[2].split("<br/>")[0].replace(/<br>/g,"\n")

    str += "---저녁---\n"
    //str += webRead("http://www.uos.ac.kr/food/placeList.do?search_date="+hdate).split("<td class=\"al\">")[3].split("<br/>")[0].replace(/<br>/g,"\n")
    str += parse.split("<td class=\"al\">")[3].split("<br/>")[0].replace(/<br>/g,"\n")

    return str
}
